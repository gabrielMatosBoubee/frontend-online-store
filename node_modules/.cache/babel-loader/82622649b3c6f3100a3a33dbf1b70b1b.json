{"ast":null,"code":"var _jsxFileName = \"/home/boubee/\\xC1rea de Trabalho/projetos/sd-025-b-project-frontend-online-store/src/components/ItemCart.jsx\";\nimport React from 'react';\nimport propTypes from 'prop-types';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nclass ItemCart extends React.Component {\n  constructor() {\n    super();\n\n    this.recuperarQuantidade = () => {\n      const {\n        cartItensArray\n      } = this.props;\n      const {\n        id\n      } = cartItensArray;\n      const quantidade = localStorage.getItem(`quantidade:${id}`);\n\n      if (quantidade != null) {\n        this.setState({\n          quantidade: Number(quantidade)\n        });\n      }\n    };\n\n    this.aumentar = () => {\n      const {\n        cartItensArray,\n        calculaTotaldoCarrinho\n      } = this.props;\n      const {\n        quantidade\n      } = this.state;\n      this.setState(prevState => ({\n        quantidade: prevState.quantidade + 1\n      }), this.salvarLocalStorage);\n\n      if (cartItensArray.available_quantity <= quantidade + 1) {\n        this.setState({\n          btnDisabled: true\n        });\n      }\n\n      calculaTotaldoCarrinho();\n    };\n\n    this.diminuir = () => {\n      const {\n        cartItensArray,\n        calculaTotaldoCarrinho\n      } = this.props;\n      const {\n        quantidade\n      } = this.state;\n      this.setState(prevState => {\n        if (prevState.quantidade <= 1) {\n          return {\n            quantidade: 1\n          };\n        }\n\n        return {\n          quantidade: prevState.quantidade - 1\n        };\n      }, this.salvarLocalStorage);\n\n      if (cartItensArray.available_quantity > quantidade - 1) {\n        this.setState({\n          btnDisabled: false\n        });\n      }\n\n      calculaTotaldoCarrinho();\n    };\n\n    this.salvarLocalStorage = () => {\n      const {\n        quantidade\n      } = this.state;\n      const {\n        cartItensArray\n      } = this.props;\n      const {\n        id\n      } = cartItensArray;\n      localStorage.setItem(`quantidade:${id}`, Number(quantidade));\n    };\n\n    this.state = {\n      quantidade: 1,\n      btnDisabled: false,\n      btnNegative: false\n    };\n  }\n\n  componentDidMount() {\n    const {\n      cartItensArray\n    } = this.props;\n\n    if (cartItensArray.available_quantity === 1) {\n      this.setState({\n        btnDisabled: true,\n        btnNegative: true\n      });\n    } else {\n      this.setState({\n        btnDisabled: false\n      });\n    }\n\n    this.recuperarQuantidade();\n  }\n\n  render() {\n    const {\n      cartItensArray,\n      removeItem\n    } = this.props;\n    const {\n      title,\n      price,\n      thumbnail,\n      id\n    } = cartItensArray;\n    const {\n      quantidade,\n      btnDisabled,\n      btnNegative\n    } = this.state;\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"ItemCartDivPrincipal\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"ItemCartDivRemoveButton\",\n        children: /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => {\n            removeItem(id);\n          },\n          \"data-testid\": \"remove-product\",\n          type: \"button\",\n          children: \"X\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 77,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"img\", {\n        src: thumbnail,\n        alt: title\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"ItemCartTitleDiv\",\n        children: /*#__PURE__*/_jsxDEV(\"p\", {\n          \"data-testid\": \"shopping-cart-product-name\",\n          children: title\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 89,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"ItemCartDivButtons\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => {\n            this.diminuir();\n          },\n          \"data-testid\": \"product-decrease-quantity\",\n          type: \"button\",\n          disabled: btnNegative,\n          children: \"-\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 94,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          \"data-testid\": \"shopping-cart-product-quantity\",\n          children: quantidade\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 103,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => {\n            this.aumentar();\n          },\n          \"data-testid\": \"product-increase-quantity\",\n          type: \"button\",\n          disabled: btnDisabled,\n          children: \"+\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 107,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 92,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"ItemCartDivPrice\",\n        children: /*#__PURE__*/_jsxDEV(\"p\", {\n          children: `${price.toLocaleString('pt-br', {\n            style: 'currency',\n            currency: 'BRL'\n          })}`\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 119,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 118,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 7\n    }, this);\n  }\n\n}\n\nItemCart.propTypes = {\n  cartItensArray: propTypes.shape({\n    title: propTypes.string,\n    price: propTypes.number,\n    thumbnail: propTypes.string,\n    id: propTypes.string,\n    thumbnail_id: propTypes.string,\n    available_quantity: propTypes.number\n  }).isRequired,\n  // increaseItem: propTypes.func.isRequired,\n  // decreaseItem: propTypes.func.isRequired,\n  removeItem: propTypes.func.isRequired,\n  calculaTotaldoCarrinho: propTypes.func.isRequired // quantity: propTypes.number.isRequired,\n\n};\nexport default ItemCart;","map":{"version":3,"names":["React","propTypes","ItemCart","Component","constructor","recuperarQuantidade","cartItensArray","props","id","quantidade","localStorage","getItem","setState","Number","aumentar","calculaTotaldoCarrinho","state","prevState","salvarLocalStorage","available_quantity","btnDisabled","diminuir","setItem","btnNegative","componentDidMount","render","removeItem","title","price","thumbnail","toLocaleString","style","currency","shape","string","number","thumbnail_id","isRequired","func"],"sources":["/home/boubee/Ãrea de Trabalho/projetos/sd-025-b-project-frontend-online-store/src/components/ItemCart.jsx"],"sourcesContent":["import React from 'react';\nimport propTypes from 'prop-types';\n\nclass ItemCart extends React.Component {\n  constructor() {\n    super();\n    this.state = {\n      quantidade: 1,\n      btnDisabled: false,\n      btnNegative: false,\n    };\n  }\n\n  componentDidMount() {\n    const { cartItensArray } = this.props;\n    if (cartItensArray.available_quantity === 1) {\n      this.setState({ btnDisabled: true, btnNegative: true });\n    } else { this.setState({ btnDisabled: false }); }\n    this.recuperarQuantidade();\n  }\n\n  recuperarQuantidade = () => {\n    const { cartItensArray } = this.props;\n    const { id } = cartItensArray;\n\n    const quantidade = localStorage.getItem(`quantidade:${id}`);\n    if (quantidade != null) {\n      this.setState({ quantidade: Number(quantidade) });\n    }\n  };\n\n  aumentar = () => {\n    const { cartItensArray, calculaTotaldoCarrinho } = this.props;\n    const { quantidade } = this.state;\n    this.setState(\n      (prevState) => ({ quantidade: prevState.quantidade + 1 }),\n      this.salvarLocalStorage,\n    );\n\n    if (cartItensArray.available_quantity <= (quantidade + 1)) {\n      this.setState({ btnDisabled: true });\n    }\n    calculaTotaldoCarrinho();\n  };\n\n  diminuir = () => {\n    const { cartItensArray, calculaTotaldoCarrinho } = this.props;\n    const { quantidade } = this.state;\n    this.setState((prevState) => {\n      if (prevState.quantidade <= 1) {\n        return { quantidade: 1 };\n      }\n      return { quantidade: prevState.quantidade - 1 };\n    }, this.salvarLocalStorage);\n    if (cartItensArray.available_quantity > (quantidade - 1)) {\n      this.setState({ btnDisabled: false });\n    }\n    calculaTotaldoCarrinho();\n  };\n\n  salvarLocalStorage = () => {\n    const { quantidade } = this.state;\n    const { cartItensArray } = this.props;\n    const { id } = cartItensArray;\n\n    localStorage.setItem(`quantidade:${id}`, Number(quantidade));\n  };\n\n  render() {\n    const { cartItensArray, removeItem } = this.props;\n    const { title, price, thumbnail, id } = cartItensArray;\n    const { quantidade, btnDisabled, btnNegative } = this.state;\n\n    return (\n      <div className=\"ItemCartDivPrincipal\">\n        <div className=\"ItemCartDivRemoveButton\">\n          <button\n            onClick={ () => { removeItem(id); } }\n            data-testid=\"remove-product\"\n            type=\"button\"\n\n          >\n            X\n\n          </button>\n        </div>\n        <img src={ thumbnail } alt={ title } />\n        <div className=\"ItemCartTitleDiv\">\n          <p data-testid=\"shopping-cart-product-name\">{title}</p>\n        </div>\n\n        <div className=\"ItemCartDivButtons\">\n\n          <button\n            onClick={ () => { this.diminuir(); } }\n            data-testid=\"product-decrease-quantity\"\n            type=\"button\"\n            disabled={ btnNegative }\n          >\n            -\n\n          </button>\n          <p data-testid=\"shopping-cart-product-quantity\">\n            {quantidade}\n\n          </p>\n          <button\n            onClick={ () => { this.aumentar(); } }\n            data-testid=\"product-increase-quantity\"\n            type=\"button\"\n            disabled={ btnDisabled }\n          >\n            +\n\n          </button>\n\n        </div>\n        <div className=\"ItemCartDivPrice\">\n          <p>\n            {`${price.toLocaleString(\n              'pt-br',\n              { style: 'currency', currency: 'BRL' },\n            )}`}\n\n          </p>\n        </div>\n      </div>\n    );\n  }\n}\n\nItemCart.propTypes = {\n  cartItensArray: propTypes.shape({\n    title: propTypes.string,\n    price: propTypes.number,\n    thumbnail: propTypes.string,\n    id: propTypes.string,\n    thumbnail_id: propTypes.string,\n    available_quantity: propTypes.number,\n  }).isRequired,\n  // increaseItem: propTypes.func.isRequired,\n  // decreaseItem: propTypes.func.isRequired,\n  removeItem: propTypes.func.isRequired,\n  calculaTotaldoCarrinho: propTypes.func.isRequired,\n  // quantity: propTypes.number.isRequired,\n\n};\n\nexport default ItemCart;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}